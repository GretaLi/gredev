// project page

const data = [
  {
    tab: "website",
    feature: true,
    link: "#",
    repoUrl:
      "https://github.com/GretaLi/Product-Landing-Page/tree/main/Yetta%20Studio",
    liveUrl: "https://gretali.github.io/Product-Landing-Page/Yetta%20Studio/",
    imgUrl: "./image/yetta-studio-landing-page.png",
    title: "Yetta’s Studio Landing Page",
    description:
      "A landing page for a beauty salon that makes it easier for users to access Yetta’s works, price list , FAQ and client’s feedback.",
    tag: ["HTML", "CSS/SCSS", "jQuery"],
  },

  {
    tab: "website",
    feature: true,
    link: "#",
    repoUrl:
      "https://github.com/GretaLi/Frontend-Mentor-Challenge/tree/main/Space-tourism-website-main",
    liveUrl:
      "https://gretali.github.io/Frontend-Mentor-Challenge/Space-tourism-website-main/index.html",
    imgUrl: "./image/space-travel-website.png",
    title: "Space Travel Website",
    description:
      "A responsive, multi-page site featuring a navbar, tabs, keyboard navigation and accessibility, built by an effective design system.",
    tag: ["HTML", "CSS", "Vanilla JS"],
  },

  {
    tab: "webApp",
    feature: true,
    link: "#",
    repoUrl:
      "https://github.com/GretaLi/Frontend-Mentor-Challenge/tree/main/Todo-app-main",
    liveUrl:
      "https://gretali.github.io/Frontend-Mentor-Challenge/Todo-app-main/",
    imgUrl: "./image/todo-list-web-app.png",
    title: "Todo List Web APP",
    description:
      "A responsive todo web app featuring add/mark/delete todos functions, filter all/active/complete todos and toggle light & dark mode.",
    tag: ["HTML", "CSS", "Vanilla JS"],
  },

  {
    tab: "website",
    feature: true,
    link: "#",
    repoUrl:
      "https://github.com/GretaLi/Frontend-Mentor-Challenge/tree/main/Cowdfunding-product-page-main",
    liveUrl:
      "https://gretali.github.io/Frontend-Mentor-Challenge/Cowdfunding-product-page-main/",
    imgUrl: "./image/crowfunding-product-page.png",
    title: "Crowdfunding Product Page",
    description:
      "A responsive product site featuring a navbar, bookmark, crowdfunding data display, a progress bar and an interactive form to make pledges.",
    tag: ["HTML", "SCSS", "JavaScript", "jQuery"],
  },

  {
    tab: "website",
    feature: true,
    link: "#",
    repoUrl: "https://github.com/GretaLi/chatTalker",
    liveUrl: "https://gretali.github.io/chatTalker/",
    imgUrl: "./image/chattalker-landing-page.png",
    title: "ChatTalker Langing Page",
    description:
      "A landing page for a chat robot service that makes users to have their own chat robot for their business.",
    tag: ["HTML", "CSS/SCSS", "jQuery"],
  },

  {
    tab: "website",
    feature: false,
    link: "#",
    repoUrl:
      "https://github.com/GretaLi/Frontend-Mentor-Challenge/tree/main/Intro-section-with-dropdown-navigation-main",
    liveUrl:
      "https://gretali.github.io/Frontend-Mentor-Challenge/Intro-section-with-dropdown-navigation-main/",
    imgUrl: "./image/intro-section-dropdown-navigation.png",
    title: "Intro Section with Dropdown Navigation",
    description:
      "A intro section that users can view the relevant dropdown menus on desktop and mobile when interacting with the navigation links.",
    tag: ["HTML", "CSS", "JavaScript", "jQuery"],
  },

  {
    tab: "website",
    feature: false,
    link: "#",
    repoUrl:
      "https://github.com/GretaLi/Frontend-Mentor-Challenge/tree/main/Social-proof-section-master",
    liveUrl:
      "https://gretali.github.io/Frontend-Mentor-Challenge/Social-proof-section-master/",
    imgUrl: "./image/social-proof-section.png",
    title: "Social Proof Section",
    description:
      "A social proof section that users can view the optimal layout for the section depending on their device's screen size.",
    tag: ["HTML", "CSS/SCSS"],
  },

  {
    tab: "webApp",
    feature: false,
    link: "#",
    repoUrl: "https://github.com/GretaLi/Password-generator",
    liveUrl: "https://gretali.github.io/Password-generator/",
    imgUrl: "./image/password-generator-web-app.png",
    title: "Password Generator Web App",
    description:
      "A responsive web app to generate two random passwords when the user clicks the button.",
    tag: ["HTML", "CSS/SCSS"],
  },

  {
    tab: "webApp",
    feature: false,
    link: "#",
    repoUrl: "https://github.com/GretaLi/Unit-converter",
    liveUrl: "https://gretali.github.io/Unit-converter/",
    imgUrl: "./image/unit-converter-web-app.png",
    title: "Unit Converter Web App",
    description:
      "A responsive web app to generate all conversions when users clicks the button.",
    tag: ["HTML", "CSS/SCSS", "jQuery"],
  },

  {
    tab: "component",
    feature: false,
    link: "#",
    repoUrl:
      "https://github.com/GretaLi/Frontend-Mentor-Challenge/tree/main/Article-preview-component-master",
    liveUrl:
      "https://gretali.github.io/Frontend-Mentor-Challenge/Article-preview-component-master/",
    imgUrl: "./image/ariticle-preview-component.png",
    title: "Article Preview Component",
    description:
      "A responsive component that is able to see the social media share links when they click the share icon.",
    tag: ["HTML", "CSS", "Vanilla JS"],
  },

  {
    tab: "component",
    feature: false,
    link: "#",
    repoUrl:
      "https://github.com/GretaLi/Frontend-Mentor-Challenge/tree/main/Order-summary-component-main",
    liveUrl:
      "https://gretali.github.io/Frontend-Mentor-Challenge/Order-summary-component-main/",
    imgUrl: "./image/order-summary-card-component.png",
    title: "Order Summary Card Component",
    description:
      "A order summary card that users cen see hover states for interactive elements.",
    tag: ["HTML", "SCSS"],
  },

  {
    tab: "component",
    feature: false,
    link: "#",
    repoUrl:
      "https://github.com/GretaLi/Frontend-Mentor-Challenge/tree/main/NFT-preview-card-component-main",
    liveUrl:
      "https://gretali.github.io/Frontend-Mentor-Challenge/NFT-preview-card-component-main/",
    imgUrl: "./image/nft-preview-card-component.png",
    title: "NFT Preview Card Component",
    description:
      "A NFT preview card that users can see hover states for interactive elements.",
    tag: ["HTML", "SCSS"],
  },

  {
    tab: "component",
    feature: false,
    link: "#",
    repoUrl:
      "https://github.com/GretaLi/Frontend-Mentor-Challenge/tree/main/interactive-rating-component-main",
    liveUrl:
      "https://gretali.github.io/Frontend-Mentor-Challenge/interactive-rating-component-main/",
    imgUrl: "./image/interactive-rating-component.png",
    title: "Interactive Rating Component",
    description: `A rating component that users can 
    select and submit a number rating
    then see a "Thank you" card after submitting.`,
    tag: ["HTML", "CSS/SCSS", "jQuery"],
  },
];

let newData = data.filter(function (obj) {
  return obj.feature === true;
});

const tabs = document.querySelectorAll(".tab__btn");
const projectWrapepr = document.querySelector("#project-wrapper");

createCard(newData);
renderCards();

tabs.forEach((tab) => {
  tab.addEventListener("click", (e) => {
    e.preventDefault;

    tabs.forEach((tab) => {
      tab.classList.remove("active");
    });

    tab.classList.add("active");

    let currentTab = tab.getAttribute("id");
    let isSlected = tab.classList.contains("active");

    if (currentTab === "featured" && isSlected) {
      newData = data.filter(function (obj) {
        return obj.feature === true;
      });
    }

    if (currentTab !== "featured" && isSlected) {
      newData = data.filter(function (obj) {
        return obj.tab === currentTab;
      });
    }

    createCard(newData);
    renderCards();

    modalToggles = document.querySelectorAll(".toggle-modal");
    overlays = document.querySelectorAll(".project__modal-overlay");
    openModal(modalToggles, overlays);
    return;
  });
});

function createCard(objArr) {
  cardHTML = "";
  for (obj of objArr) {
    let tab = obj.tab;
    // let link = obj.link;
    let repoUrl = obj.repoUrl;
    let liveUrl = obj.liveUrl;
    let imgUrl = obj.imgUrl;
    let title = obj.title;
    let description = obj.description;
    let tagArr = obj.tag;
    let featured = isFeatured();

    function isFeatured() {
      if (obj.feature) {
        return "featured";
      } else {
        return "";
      }
    }

    let tagHTML = "";
    let tags = createTagHTML();

    cardHTML += `
      <div class="project__item ${featured}" data-tab="${tab}">
        <div class="project__img">
          <a class="toggle-modal" href="#">
              <img
                src="${imgUrl}"
                alt="a picture of ${title}"
                />
          </a>
        </div>

        <div class="project__text">
            <a class="toggle-modal" href="#">
              <h3>${title}</h3>
            </a>
            <div class="project__technique tag">
              ${tags}
            </div>
        </div>
        <div class="project__modal-overlay">
          <div class="project__modal">
            <img
              src="${imgUrl}"
              alt="a picture of Crowfunding Prdocut Page"
            />
            <h3>${title}</h3>
            <p>${description}</p>
            <div class="project__modal-button">
                <a href="${liveUrl}" target="__blank">Live Site</a>
                <a href="${repoUrl}" target="__blank">Repository</a>
            </div>
          </div>
        </div>
      </div>
    `;

    function createTagHTML() {
      for (tag of tagArr) {
        tagHTML += `<span>${tag}</span> `;
      }
      return tagHTML;
    }
  }

  return cardHTML;
}

function renderCards() {
  projectWrapepr.innerHTML = cardHTML;
}

let modalToggles = document.querySelectorAll(".toggle-modal");
let overlays = document.querySelectorAll(".project__modal-overlay");

openModal(modalToggles, overlays);
function openModal(modalToggles, overlays) {
  modalToggles.forEach((toggle) => {
    toggle.addEventListener("click", (e) => {
      let target = e.target;
      let projectItem = target.parentElement.parentElement.parentElement;
      projectItem.classList.add("active");
    });
  });

  overlays.forEach((overlay) => {
    overlay.addEventListener("click", (e) => {
      let projectItem = e.target.parentElement;
      projectItem.classList.remove("active");
    });
  });
}
